/*! venn 2013-11-12 */
if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(){function a(a,b){return b.forEach(function(b){a.push(b)}),a}function b(a,b){var d,e=[].concat(a),f={};return a.length=0,b=b||c,e.forEach(function(c){d=b(c),f[d]||(a.push(c),f[d]=!0)}),a}function c(a){return"string"==typeof a?a:JSON.stringify(a)}var d=[],e=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},f=function(c){return b(a(this,c),this.keyFunction)},g=function(a){var b=this;if(a&&0!=a.length&&this&&0!=this.length){var c,d=[].concat(this),e={};this.length=0,a.forEach(function(a){e[i.call(b,a)]=!0}),d.forEach(function(a){c=i.call(b,a),e[c]&&(b.push(a),delete e[c])})}else this.length=0;return this},h=function(a){var b=this;if(!a||0==a.length||!this||0==this.length)return this;var c,d=[].concat(this),e={};return this.length=0,a.forEach(function(a){e[i.call(b,a)]=!0}),d.forEach(function(a){c=i.call(b,a),e[c]||(b.push(a),delete e[c])}),this},i=function(a){return this.keyFunction?this.keyFunction(a):c(a)};return Object.defineProperty(d,"union",{value:f,writable:!1,enumerable:!1}),Object.defineProperty(d,"or",{value:f,writable:!1,enumerable:!1}),Object.defineProperty(d,"intersection",{value:g,writable:!1,enumerable:!1}),Object.defineProperty(d,"and",{value:g,writable:!1,enumerable:!1}),Object.defineProperty(d,"not",{value:h,writable:!1,enumerable:!1}),{create:function(a,b){var c=a?[].concat(a):[];return e(c,d),Object.defineProperty(c,"keyFunction",{writable:!1,enumerable:!1,value:b}),c.union([])}}});